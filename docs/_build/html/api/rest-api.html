<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>REST API Reference &mdash; ProvChainOrg 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=3afbad45" />
      <link rel="stylesheet" type="text/css" href="../_static/interactive.css?v=267755d7" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=01f34227"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script src="../_static/interactive.js?v=fc12431e"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SPARQL API Guide" href="sparql-api.html" />
    <link rel="prev" title="API Reference" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../index.html" class="icon icon-home">
            ProvChainOrg
          </a>
              <div class="version">
                0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/introduction.html">Introduction to ProvChainOrg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide/first-steps.html">First Steps with ProvChainOrg</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">REST API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#base-url">Base URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="#authentication">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="#response-format">Response Format</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#error-responses">Error Responses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#status-codes">Status Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#endpoints">Endpoints</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id15">}</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#add-rdf-data">Add RDF Data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id28">}</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#query-blockchain">Query Blockchain</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id33">}</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id38">}</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#get-block">Get Block</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id43">}</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#get-blocks">Get Blocks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id48">}</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#validate-blockchain">Validate Blockchain</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id53">}</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#export-data">Export Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-ontology">Get Ontology</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id66">}</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#validate-rdf-data">Validate RDF Data</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id79">}</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#network-information">Network Information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id84">}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rate-limiting">Rate Limiting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#webhooks">Webhooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id89">}</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id94">}</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#example-usage">Example Usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id115">});</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#best-practices">Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sparql-api.html">SPARQL API Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="websocket-api.html">WebSocket API</a></li>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="client-libraries.html">Client Libraries</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Research Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../research/index.html">Research Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research/rdf-canonicalization-algorithm.html">RDF Canonicalization Algorithm for Semantic Blockchains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research/technical-specifications.html">Technical Specifications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../foundational/intro-to-provchainorg.html">Introduction to ProvChainOrg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../foundational/intro-to-rdf-blockchain.html">Introduction to RDF Blockchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../foundational/intro-to-supply-chain-traceability.html">Introduction to Supply Chain Traceability</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../stack/intro-to-stack.html">Introduction to the ProvChainOrg Stack</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/first-supply-chain.html">Your First Supply Chain Application</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ProvChainOrg</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">REST API Reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/rest-api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rest-api-reference">
<h1>REST API Reference<a class="headerlink" href="#rest-api-reference" title="Link to this heading"></a></h1>
<p>The ProvChainOrg REST API provides a standard HTTP interface for interacting with the semantic blockchain platform. All endpoints return JSON responses and support standard HTTP methods for CRUD operations.</p>
<section id="base-url">
<h2>Base URL<a class="headerlink" href="#base-url" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">http://localhost:8080/api</span>
<span class="pre">`</span></code></p>
</section>
<section id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Link to this heading"></a></h2>
<p>All API endpoints require authentication using API keys. Include your API key in the request headers:</p>
<p><code class="docutils literal notranslate"><span class="pre">`http</span>
<span class="pre">Authorization:</span> <span class="pre">Bearer</span> <span class="pre">YOUR_API_KEY</span>
<span class="pre">`</span></code></p>
<p>API keys can be generated through the web interface or via the CLI:</p>
<p><code class="docutils literal notranslate"><span class="pre">`bash</span>
<span class="pre">cargo</span> <span class="pre">run</span> <span class="pre">--</span> <span class="pre">generate-api-key</span>
<span class="pre">`</span></code></p>
</section>
<section id="response-format">
<h2>Response Format<a class="headerlink" href="#response-format" title="Link to this heading"></a></h2>
<p>All API responses follow this JSON structure:</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: true,
“data”: {},
“message”: “Operation completed successfully”,
“timestamp”: “2025-01-14T18:30:00Z”</p>
</div></blockquote>
<section id="id5">
<h3>}<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
</section>
</section>
<section id="error-responses">
<h2>Error Responses<a class="headerlink" href="#error-responses" title="Link to this heading"></a></h2>
<p>Error responses include detailed information about what went wrong:</p>
<p><a href="#id6"><span class="problematic" id="id7">``</span></a><a href="#id8"><span class="problematic" id="id9">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: false,
“error”: {</p>
<blockquote>
<div><p>“code”: “VALIDATION_ERROR”,
“message”: “Invalid RDF data format”,
“details”: {</p>
<blockquote>
<div><p>“field”: “data”,
“issue”: “Malformed Turtle syntax”</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>},
“timestamp”: “2025-01-14T18:30:00Z”</p>
</div></blockquote>
<section id="id10">
<h3>}<a class="headerlink" href="#id10" title="Link to this heading"></a></h3>
</section>
</section>
<section id="status-codes">
<h2>Status Codes<a class="headerlink" href="#status-codes" title="Link to this heading"></a></h2>
<div class="line-block">
<div class="line">Code | Description |</div>
</div>
<p><a href="#id116"><span class="problematic" id="id117">|------|</span></a>————-|
| 200 | OK - Request successful |
| 201 | Created - Resource created successfully |
| 400 | Bad Request - Invalid request parameters |
| 401 | Unauthorized - Authentication required |
| 403 | Forbidden - Insufficient permissions |
| 404 | Not Found - Resource not found |
| 422 | Unprocessable Entity - Validation failed |
| 500 | Internal Server Error - Server error |</p>
</section>
<section id="endpoints">
<h2>Endpoints<a class="headerlink" href="#endpoints" title="Link to this heading"></a></h2>
<p>Get the current status of the blockchain.</p>
<p><strong>Endpoint:</strong> <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/status</span></code></p>
<p><strong>Response:</strong>
<a href="#id11"><span class="problematic" id="id12">``</span></a><a href="#id13"><span class="problematic" id="id14">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: true,
“data”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“blockchain”: {</dt><dd><p>“current_height”: 42,
“latest_block_hash”: “0x4a7b2c8f9e1d3a5b…”,
“total_transactions”: 156,
“network_status”: “healthy”</p>
</dd>
</dl>
<p>},
“rdf_store”: {</p>
<blockquote>
<div><p>“total_triples”: 1247,
“named_graphs”: 42,
“query_performance”: “excellent”</p>
</div></blockquote>
<p>},
“ontology”: {</p>
<blockquote>
<div><p>“loaded”: true,
“validation_enabled”: true,
“last_updated”: “2025-01-14T18:25:00Z”</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<section id="id15">
<h3>}<a class="headerlink" href="#id15" title="Link to this heading"></a></h3>
<section id="add-rdf-data">
<h4>Add RDF Data<a class="headerlink" href="#add-rdf-data" title="Link to this heading"></a></h4>
<p>Add new RDF data as a blockchain block.</p>
<p><strong>Endpoint:</strong> <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/data</span></code></p>
<p><strong>Headers:</strong>
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">Content-Type:</span> <span class="pre">text/turtle</span>
<span class="pre">Authorization:</span> <span class="pre">Bearer</span> <span class="pre">YOUR_API_KEY</span>
<span class="pre">`</span></code></p>
<p><strong>Request Body:</strong>
<a href="#id16"><span class="problematic" id="id17">``</span></a><a href="#id18"><span class="problematic" id="id19">`</span></a>turtle
&#64;prefix : &lt;<a class="reference external" href="http://example.org/supply">http://example.org/supply</a>-chain#&gt; .
&#64;prefix xsd: &lt;<a class="reference external" href="http://www.w3.org/2001">http://www.w3.org/2001</a>/XMLSchema#&gt; .</p>
<dl class="simple">
<dt>:Batch001 a :ProductBatch ;</dt><dd><p>:hasBatchID “BATCH-001” ;
:product :OrganicTomatoes ;
:harvestDate “2025-01-14”^^xsd:date ;
:originFarm :GreenValleyFarm .</p>
</dd>
</dl>
<p><a href="#id20"><span class="problematic" id="id21">``</span></a><a href="#id22"><span class="problematic" id="id23">`</span></a></p>
<p><strong>Response:</strong>
<a href="#id24"><span class="problematic" id="id25">``</span></a><a href="#id26"><span class="problematic" id="id27">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: true,
“data”: {</p>
<blockquote>
<div><p>“block_index”: 43,
“block_hash”: “0x8f3e2d1c9b8a7654…”,
“timestamp”: “2025-01-14T18:30:15Z”,
“validation_passed”: true</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
</section>
</section>
<section id="id28">
<h3>}<a class="headerlink" href="#id28" title="Link to this heading"></a></h3>
<section id="query-blockchain">
<h4>Query Blockchain<a class="headerlink" href="#query-blockchain" title="Link to this heading"></a></h4>
<p>Execute a SPARQL query against the blockchain.</p>
<p><strong>Endpoint:</strong> <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/query</span></code></p>
<p><strong>Headers:</strong>
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">Content-Type:</span> <span class="pre">application/sparql-query</span>
<span class="pre">Authorization:</span> <span class="pre">Bearer</span> <span class="pre">YOUR_API_KEY</span>
<span class="pre">`</span></code></p>
<p><strong>Request Body:</strong>
<a href="#id29"><span class="problematic" id="id30">``</span></a><a href="#id31"><span class="problematic" id="id32">`</span></a>sparql
PREFIX : &lt;<a class="reference external" href="http://example.org/supply">http://example.org/supply</a>-chain#&gt;
SELECT ?batch ?product ?farm WHERE {</p>
<blockquote>
<div><dl class="simple">
<dt>?batch a :ProductBatch ;</dt><dd><p>:product ?product ;
:originFarm ?farm .</p>
</dd>
</dl>
</div></blockquote>
</section>
</section>
<section id="id33">
<h3>}<a class="headerlink" href="#id33" title="Link to this heading"></a></h3>
<p><strong>Response:</strong>
<a href="#id34"><span class="problematic" id="id35">``</span></a><a href="#id36"><span class="problematic" id="id37">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: true,
“data”: {</p>
<blockquote>
<div><p>“query_type”: “SELECT”,
“result_count”: 3,
“results”: [</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“batch”: “<a class="reference external" href="http://example.org/supply-chain#Batch001">http://example.org/supply-chain#Batch001</a>”,
“product”: “<a class="reference external" href="http://example.org/supply-chain#OrganicTomatoes">http://example.org/supply-chain#OrganicTomatoes</a>”,
“farm”: “<a class="reference external" href="http://example.org/supply-chain#GreenValleyFarm">http://example.org/supply-chain#GreenValleyFarm</a>”</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>“batch”: “<a class="reference external" href="http://example.org/supply-chain#Batch002">http://example.org/supply-chain#Batch002</a>”,
“product”: “<a class="reference external" href="http://example.org/supply-chain#OrganicCarrots">http://example.org/supply-chain#OrganicCarrots</a>”,
“farm”: “<a class="reference external" href="http://example.org/supply-chain#SunnyMeadowFarm">http://example.org/supply-chain#SunnyMeadowFarm</a>”</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
</section>
<section id="id38">
<h3>}<a class="headerlink" href="#id38" title="Link to this heading"></a></h3>
<section id="get-block">
<h4>Get Block<a class="headerlink" href="#get-block" title="Link to this heading"></a></h4>
<p>Retrieve a specific block by its index.</p>
<p><strong>Endpoint:</strong> <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/blocks/{index}</span></code></p>
<p><strong>Response:</strong>
<a href="#id39"><span class="problematic" id="id40">``</span></a><a href="#id41"><span class="problematic" id="id42">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: true,
“data”: {</p>
<blockquote>
<div><p>“index”: 42,
“timestamp”: “2025-01-14T18:25:00Z”,
“previous_hash”: “0x1a2b3c4d5e6f7890…”,
“hash”: “0x4a7b2c8f9e1d3a5b…”,
“data”: {</p>
<blockquote>
<div><p>“graph_name”: “<a class="reference external" href="http://provchain.org/block/42">http://provchain.org/block/42</a>”,
“turtle_data”: “&#64;prefix : &lt;<a class="reference external" href="http://example.org/supply">http://example.org/supply</a>-chain#&gt; .n:Batch001 a :ProductBatch ;”,
“triple_count”: 15</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
</section>
</section>
<section id="id43">
<h3>}<a class="headerlink" href="#id43" title="Link to this heading"></a></h3>
<section id="get-blocks">
<h4>Get Blocks<a class="headerlink" href="#get-blocks" title="Link to this heading"></a></h4>
<p>Retrieve a range of blocks with pagination.</p>
<p><strong>Endpoint:</strong> <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/blocks</span></code></p>
<p><strong>Query Parameters:</strong>
- <code class="docutils literal notranslate"><span class="pre">limit</span></code> (optional, default: 10) - Number of blocks to return
- <code class="docutils literal notranslate"><span class="pre">offset</span></code> (optional, default: 0) - Starting block index
- <code class="docutils literal notranslate"><span class="pre">format</span></code> (optional, default: “summary”) - Response format: “summary” or “full”</p>
<p><strong>Response:</strong>
<a href="#id44"><span class="problematic" id="id45">``</span></a><a href="#id46"><span class="problematic" id="id47">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: true,
“data”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“pagination”: {</dt><dd><p>“limit”: 10,
“offset”: 0,
“total_blocks”: 42</p>
</dd>
</dl>
<p>},
“blocks”: [</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“index”: 42,
“timestamp”: “2025-01-14T18:25:00Z”,
“hash”: “0x4a7b2c8f9e1d3a5b…”,
“triple_count”: 15</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>“index”: 41,
“timestamp”: “2025-01-14T18:20:00Z”,
“hash”: “0x8f3e2d1c9b8a7654…”,
“triple_count”: 12</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
</section>
</section>
<section id="id48">
<h3>}<a class="headerlink" href="#id48" title="Link to this heading"></a></h3>
<section id="validate-blockchain">
<h4>Validate Blockchain<a class="headerlink" href="#validate-blockchain" title="Link to this heading"></a></h4>
<p>Validate the integrity of the blockchain.</p>
<p><strong>Endpoint:</strong> <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/validate</span></code></p>
<p><strong>Response:</strong>
<a href="#id49"><span class="problematic" id="id50">``</span></a><a href="#id51"><span class="problematic" id="id52">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: true,
“data”: {</p>
<blockquote>
<div><p>“is_valid”: true,
“total_blocks”: 42,
“validation_time_ms”: 245,
“issues”: []</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
</section>
</section>
<section id="id53">
<h3>}<a class="headerlink" href="#id53" title="Link to this heading"></a></h3>
<section id="export-data">
<h4>Export Data<a class="headerlink" href="#export-data" title="Link to this heading"></a></h4>
<p>Export blockchain data in various formats.</p>
<p><strong>Endpoint:</strong> <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/export</span></code></p>
<p><strong>Query Parameters:</strong>
- <code class="docutils literal notranslate"><span class="pre">format</span></code> (required) - Export format: “turtle”, “jsonld”, “ntriples”, “rdfxml”
- <code class="docutils literal notranslate"><span class="pre">graph</span></code> (optional) - Specific named graph to export
- <code class="docutils literal notranslate"><span class="pre">compression</span></code> (optional) - Compression: “gzip”, “none”</p>
<p><strong>Response:</strong>
Content-Type depends on the requested format.</p>
<p><strong>Example (Turtle):</strong>
<a href="#id54"><span class="problematic" id="id55">``</span></a><a href="#id56"><span class="problematic" id="id57">`</span></a>turtle
&#64;prefix : &lt;<a class="reference external" href="http://example.org/supply">http://example.org/supply</a>-chain#&gt; .
&#64;prefix xsd: &lt;<a class="reference external" href="http://www.w3.org/2001">http://www.w3.org/2001</a>/XMLSchema#&gt; .</p>
<dl class="simple">
<dt>:Batch001 a :ProductBatch ;</dt><dd><p>:hasBatchID “BATCH-001” ;
:product :OrganicTomatoes ;
:harvestDate “2025-01-14”^^xsd:date .</p>
</dd>
</dl>
<p><a href="#id58"><span class="problematic" id="id59">``</span></a><a href="#id60"><span class="problematic" id="id61">`</span></a></p>
</section>
<section id="get-ontology">
<h4>Get Ontology<a class="headerlink" href="#get-ontology" title="Link to this heading"></a></h4>
<p>Retrieve the current ontology configuration.</p>
<p><strong>Endpoint:</strong> <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/ontology</span></code></p>
<p><strong>Response:</strong>
<a href="#id62"><span class="problematic" id="id63">``</span></a><a href="#id64"><span class="problematic" id="id65">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: true,
“data”: {</p>
<blockquote>
<div><p>“loaded”: true,
“path”: “ontology/traceability.owl.ttl”,
“graph_name”: “<a class="reference external" href="http://provchain.org/ontology">http://provchain.org/ontology</a>”,
“validation_enabled”: true,
“last_updated”: “2025-01-14T18:25:00Z”,
“classes”: [</p>
<blockquote>
<div><p>“ProductBatch”,
“ProcessingActivity”,
“EnvironmentalCondition”</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
</section>
</section>
<section id="id66">
<h3>}<a class="headerlink" href="#id66" title="Link to this heading"></a></h3>
<section id="validate-rdf-data">
<h4>Validate RDF Data<a class="headerlink" href="#validate-rdf-data" title="Link to this heading"></a></h4>
<p>Validate RDF data against the loaded ontology.</p>
<p><strong>Endpoint:</strong> <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/ontology/validate</span></code></p>
<p><strong>Headers:</strong>
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">Content-Type:</span> <span class="pre">text/turtle</span>
<span class="pre">Authorization:</span> <span class="pre">Bearer</span> <span class="pre">YOUR_API_KEY</span>
<span class="pre">`</span></code></p>
<p><strong>Request Body:</strong>
<a href="#id67"><span class="problematic" id="id68">``</span></a><a href="#id69"><span class="problematic" id="id70">`</span></a>turtle
&#64;prefix : &lt;<a class="reference external" href="http://example.org/supply">http://example.org/supply</a>-chain#&gt; .</p>
<dl class="simple">
<dt>:Batch001 a :ProductBatch ;</dt><dd><p>:hasBatchID “TEST-BATCH” .</p>
</dd>
</dl>
<p><a href="#id71"><span class="problematic" id="id72">``</span></a><a href="#id73"><span class="problematic" id="id74">`</span></a></p>
<p><strong>Response:</strong>
<a href="#id75"><span class="problematic" id="id76">``</span></a><a href="#id77"><span class="problematic" id="id78">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: true,
“data”: {</p>
<blockquote>
<div><p>“is_valid”: true,
“validation_time_ms”: 45,
“issues”: []</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
</section>
</section>
<section id="id79">
<h3>}<a class="headerlink" href="#id79" title="Link to this heading"></a></h3>
<section id="network-information">
<h4>Network Information<a class="headerlink" href="#network-information" title="Link to this heading"></a></h4>
<p>Get information about the P2P network.</p>
<p><strong>Endpoint:</strong> <code class="docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/network</span></code></p>
<p><strong>Response:</strong>
<a href="#id80"><span class="problematic" id="id81">``</span></a><a href="#id82"><span class="problematic" id="id83">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: true,
“data”: {</p>
<blockquote>
<div><p>“node_id”: “provchain-node-001”,
“is_authority”: false,
“connected_peers”: 3,
“known_peers”: [</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“id”: “peer-001”,
“address”: “192.168.1.100:8080”,
“last_seen”: “2025-01-14T18:28:00Z”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>],
“network_status”: “healthy”</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
</section>
</section>
<section id="id84">
<h3>}<a class="headerlink" href="#id84" title="Link to this heading"></a></h3>
</section>
</section>
<section id="rate-limiting">
<h2>Rate Limiting<a class="headerlink" href="#rate-limiting" title="Link to this heading"></a></h2>
<p>API endpoints are rate limited to prevent abuse:</p>
<ul class="simple">
<li><p><strong>Authentication endpoints</strong>: 5 requests per minute</p></li>
<li><p><strong>Read endpoints</strong>: 100 requests per minute</p></li>
<li><p><strong>Write endpoints</strong>: 10 requests per minute</p></li>
<li><p><strong>Query endpoints</strong>: 50 requests per minute</p></li>
</ul>
<p>Rate limit headers are included in responses:</p>
<p><code class="docutils literal notranslate"><span class="pre">`http</span>
<span class="pre">X-RateLimit-Limit:</span> <span class="pre">100</span>
<span class="pre">X-RateLimit-Remaining:</span> <span class="pre">95</span>
<span class="pre">X-RateLimit-Reset:</span> <span class="pre">1642125600</span>
<span class="pre">`</span></code></p>
</section>
<section id="webhooks">
<h2>Webhooks<a class="headerlink" href="#webhooks" title="Link to this heading"></a></h2>
<p>Subscribe to blockchain events via webhooks.</p>
<p><strong>Endpoint:</strong> <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/webhooks</span></code></p>
<p><strong>Request Body:</strong>
<a href="#id85"><span class="problematic" id="id86">``</span></a><a href="#id87"><span class="problematic" id="id88">`</span></a>json
{</p>
<blockquote>
<div><p>“url”: “<a class="reference external" href="https://your-app.com/webhooks/provchain">https://your-app.com/webhooks/provchain</a>”,
“events”: [“new_block”, “validation_error”, “network_change”],
“secret”: “your-webhook-secret”</p>
</div></blockquote>
<section id="id89">
<h3>}<a class="headerlink" href="#id89" title="Link to this heading"></a></h3>
<p><strong>Response:</strong>
<a href="#id90"><span class="problematic" id="id91">``</span></a><a href="#id92"><span class="problematic" id="id93">`</span></a>json
{</p>
<blockquote>
<div><p>“success”: true,
“data”: {</p>
<blockquote>
<div><p>“webhook_id”: “wh_123456789”,
“url”: “<a class="reference external" href="https://your-app.com/webhooks/provchain">https://your-app.com/webhooks/provchain</a>”,
“events”: [“new_block”, “validation_error”, “network_change”],
“created_at”: “2025-01-14T18:30:00Z”</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
</section>
<section id="id94">
<h3>}<a class="headerlink" href="#id94" title="Link to this heading"></a></h3>
</section>
</section>
<section id="example-usage">
<h2>Example Usage<a class="headerlink" href="#example-usage" title="Link to this heading"></a></h2>
<p><a href="#id95"><span class="problematic" id="id96">``</span></a><a href="#id97"><span class="problematic" id="id98">`</span></a>bash
# Get blockchain status
curl -X GET <a class="reference external" href="http://localhost:8080/api/status">http://localhost:8080/api/status</a> </p>
<blockquote>
<div><p>-H “Authorization: Bearer YOUR_API_KEY”</p>
</div></blockquote>
<p># Add RDF data
curl -X POST <a class="reference external" href="http://localhost:8080/api/data">http://localhost:8080/api/data</a> </p>
<blockquote>
<div><p>-H “Content-Type: text/turtle” -H “Authorization: Bearer YOUR_API_KEY” -d “&#64;/path/to/data.ttl”</p>
</div></blockquote>
<p># Execute SPARQL query
curl -X POST <a class="reference external" href="http://localhost:8080/api/query">http://localhost:8080/api/query</a> </p>
<blockquote>
<div><p>-H “Content-Type: application/sparql-query” -H “Authorization: Bearer YOUR_API_KEY” -d “SELECT ?batch ?product WHERE { ?batch a :ProductBatch ; :product ?product }”</p>
</div></blockquote>
<p><a href="#id99"><span class="problematic" id="id100">``</span></a><a href="#id101"><span class="problematic" id="id102">`</span></a></p>
<div class="api-explorer">
  <div class="api-request">
    <h4>Try the Status API</h4>
    <p>Method: <span class="method">GET</span></p>
    <p>URL: <span class="url">http://localhost:8080/api/status</span></p>
    <p>Headers: Authorization: Bearer YOUR_API_KEY</p>
    <button class="run-button">Execute Request</button>
  </div>
  <div class="api-response">
    # Response will appear here
  </div>
</div><p><a href="#id103"><span class="problematic" id="id104">``</span></a><a href="#id105"><span class="problematic" id="id106">`</span></a>python
import requests
import json</p>
<dl>
<dt>class ProvChainAPI:</dt><dd><dl>
<dt>def __init__(self, base_url, api_key):</dt><dd><p>self.base_url = base_url
self.headers = {</p>
<blockquote>
<div><p>“Authorization”: f”Bearer {api_key}”,
“Content-Type”: “application/json”</p>
</div></blockquote>
<p>}</p>
</dd>
<dt>def get_status(self):</dt><dd><p>response = requests.get(f”{self.base_url}/status”, headers=self.headers)
return response.json()</p>
</dd>
<dt>def add_rdf_data(self, turtle_data):</dt><dd><p>headers = self.headers.copy()
headers[“Content-Type”] = “text/turtle”
response = requests.post(f”{self.base_url}/data”, headers=headers, data=turtle_data)
return response.json()</p>
</dd>
<dt>def execute_query(self, sparql_query):</dt><dd><p>headers = self.headers.copy()
headers[“Content-Type”] = “application/sparql-query”
response = requests.post(f”{self.base_url}/query”, headers=headers, data=sparql_query)
return response.json()</p>
</dd>
</dl>
</dd>
</dl>
<p># Usage
api = ProvChainAPI(”<a class="reference external" href="http://localhost:8080/api">http://localhost:8080/api</a>”, “YOUR_API_KEY”)
status = api.get_status()
print(f”Blockchain height: {status[‘data’][‘blockchain’][‘current_height’]}”)</p>
<p># Add data
rdf_data = “””
&#64;prefix : &lt;<a class="reference external" href="http://example.org/supply">http://example.org/supply</a>-chain#&gt; .
:Batch001 a :ProductBatch ; :hasBatchID “TEST-001” .
“””
result = api.add_rdf_data(rdf_data)
print(f”Added block: {result[‘data’][‘block_index’]}”)
<a href="#id107"><span class="problematic" id="id108">``</span></a><a href="#id109"><span class="problematic" id="id110">`</span></a></p>
<p><a href="#id111"><span class="problematic" id="id112">``</span></a><a href="#id113"><span class="problematic" id="id114">`</span></a>javascript
class ProvChainAPI {</p>
<blockquote>
<div><dl>
<dt>constructor(baseUrl, apiKey) {</dt><dd><p>this.baseUrl = baseUrl;
this.headers = {</p>
<blockquote>
<div><p>‘Authorization’: <cite>Bearer ${apiKey}</cite>,
‘Content-Type’: ‘application/json’</p>
</div></blockquote>
<p>};</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>async getStatus() {</dt><dd><dl class="simple">
<dt>const response = await fetch(<cite>${this.baseUrl}/status</cite>, {</dt><dd><p>headers: this.headers</p>
</dd>
</dl>
<p>});
return await response.json();</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>async addRDFData(turtleData) {</dt><dd><p>const headers = { …this.headers };
headers[‘Content-Type’] = ‘text/turtle’;</p>
<dl class="simple">
<dt>const response = await fetch(<cite>${this.baseUrl}/data</cite>, {</dt><dd><p>method: ‘POST’,
headers: headers,
body: turtleData</p>
</dd>
</dl>
<p>});
return await response.json();</p>
</dd>
</dl>
<p>}</p>
<dl>
<dt>async executeQuery(sparqlQuery) {</dt><dd><p>const headers = { …this.headers };
headers[‘Content-Type’] = ‘application/sparql-query’;</p>
<dl class="simple">
<dt>const response = await fetch(<cite>${this.baseUrl}/query</cite>, {</dt><dd><p>method: ‘POST’,
headers: headers,
body: sparqlQuery</p>
</dd>
</dl>
<p>});
return await response.json();</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>}</p>
<p>// Usage
const api = new ProvChainAPI(’<a class="reference external" href="http://localhost:8080/api">http://localhost:8080/api</a>’, ‘YOUR_API_KEY’);</p>
<dl class="simple">
<dt>api.getStatus().then(status =&gt; {</dt><dd><p>console.log(<cite>Blockchain height: ${status.data.blockchain.current_height}</cite>);</p>
</dd>
</dl>
<p>});</p>
<p>const rdfData = <cite>&#64;prefix : &lt;http://example.org/supply-chain#&gt; .
:Batch001 a :ProductBatch ; :hasBatchID “TEST-001” .</cite>;</p>
<dl class="simple">
<dt>api.addRDFData(rdfData).then(result =&gt; {</dt><dd><p>console.log(<cite>Added block: ${result.data.block_index}</cite>);</p>
</dd>
</dl>
<section id="id115">
<h3>});<a class="headerlink" href="#id115" title="Link to this heading"></a></h3>
</section>
</section>
<section id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><strong>Error Handling</strong>: Always check the <cite>success</cite> field in responses and handle errors appropriately.</p></li>
<li><p><strong>Rate Limiting</strong>: Monitor rate limit headers and implement exponential backoff for failed requests.</p></li>
<li><p><strong>Authentication</strong>: Store API keys securely and never expose them in client-side code.</p></li>
<li><p><strong>Batch Operations</strong>: For bulk operations, consider implementing client-side batching to reduce API calls.</p></li>
<li><p><strong>Caching</strong>: Cache frequently accessed data like blockchain status to reduce API calls.</p></li>
<li><p><strong>Webhooks</strong>: Use webhooks for real-time updates instead of polling for new blocks.</p></li>
<li><p><strong>Validation</strong>: Always validate data on the client side before sending to the API.</p></li>
<li><p><strong>Monitoring</strong>: Implement logging and monitoring for API usage and errors.</p></li>
</ol>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<dl class="simple">
<dt><strong>Authentication Failed</strong></dt><dd><ul class="simple">
<li><p>Verify your API key is correct and not expired</p></li>
<li><p>Check that the Authorization header is properly formatted</p></li>
</ul>
</dd>
<dt><strong>Rate Limit Exceeded</strong></dt><dd><ul class="simple">
<li><p>Wait for the rate limit to reset (check X-RateLimit-Reset header)</p></li>
<li><p>Implement exponential backoff in your client</p></li>
</ul>
</dd>
<dt><strong>Invalid RDF Data</strong></dt><dd><ul class="simple">
<li><p>Validate your Turtle syntax before sending</p></li>
<li><p>Check that all required properties are included</p></li>
</ul>
</dd>
<dt><strong>Query Timeout</strong></dt><dd><ul class="simple">
<li><p>Optimize your SPARQL queries</p></li>
<li><p>Use LIMIT clauses for large result sets</p></li>
</ul>
</dd>
<dt><strong>Network Connection Issues</strong></dt><dd><ul class="simple">
<li><p>Verify the ProvChainOrg node is running</p></li>
<li><p>Check firewall settings and network connectivity</p></li>
</ul>
</dd>
</dl>
<ul class="simple">
<li><p><strong>API Documentation</strong>: Refer to this documentation for detailed endpoint information</p></li>
<li><p><strong>GitHub Issues</strong>: Report bugs and request features</p></li>
<li><p><strong>Community Support</strong>: Join discussions for help and best practices</p></li>
<li><p><strong>Support Email</strong>: For enterprise customers, contact <a class="reference external" href="mailto:support&#37;&#52;&#48;provchain-org&#46;com">support<span>&#64;</span>provchain-org<span>&#46;</span>com</a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sparql-api.html" class="btn btn-neutral float-right" title="SPARQL API Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, ProvChainOrg Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>